![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　同人誌を書き始めるぜ☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　くそっ☆　今日は　SKIコンビネーター　を練習するんじゃなかったのか☆」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　タイトルを決めて、最初の１ページの最後に　＜書きかけ＞　と書けば　同人誌は完成よね」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　タイトルは　『切りよくモチベーションを保つことができる関数型コンピューター・プログラミングの練習問題』、
略して　切りモチ・プログラミング　だぜ☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　切り餅に　醤油と砂糖を付けて食べたいばっかりに……☆」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　もう発行しましょう。中身なんて　有っても無くても売り上げに貢献しないのよ」

# ◇お題１　アイロン

![20191019comp44a1.png](https://crieit.now.sh/upload_images/8b4e66d2a31fc02ef69b63333ee5dccd5daa66ee3df92.png)

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　先頭の１文字、末尾の１文字だけ　コンピューターにランダムに選んでもらって、
間に　２文字分　伏字を作ってくれだぜ☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　カタカナは　↓以下の文字を　ソースコードに　コピー貼り付けして　使えばいいだろ☆」


```
先頭の文字セット

アイウエオ　カキクケコ　サシスセソ　タチツテト　ナニヌネノ　ハヒフヘホ　マミムメモ　ヤユヨ　ワオ
ガギグゲゴ　ザジズゼゾ　ダヂヅデド　バビブベボ　パピプペポ

末尾の文字セット

アイウエオ　カキクケコ　サシスセソ　タチツテト　ナニヌネノ　ハヒフヘホ　マミムメモ　ヤユヨ　ワオン
ガギグゲゴ　ザジズゼゾ　ダヂヅデド　バビブベボ　パピプペポ　ャュョ　ヴ
```


![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　コンピューターは　↓以下のような画面を作ってくれだぜ☆　解答は無くていい☆」


```
ア□□ン
```


![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　あんたが　問題出して　わたしがプログラム組めばいいの？　あんた楽すぎない？」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　わたしが運転手、ご主人さまが電車だぜ☆」


main.rs


```
//!
//! cd C:\Users\夢美\OneDrive\ドキュメント\practice-rust\kirimoti
//! cargo new iron
//! cd C:\Users\夢美\OneDrive\ドキュメント\practice-rust\kirimoti\iron
//! cargo check
//! cargo run
//! 
//! [crates.io](https://crates.io/)
//!     rand
//! 

use rand::prelude::*;

fn main() {
    let mut text1 = "アイウエオ　カキクケコ　サシスセソ　タチツテト　ナニヌネノ　ハヒフヘホ　マミムメモ　ヤユヨ　ワオガギグゲゴ　ザジズゼゾ　ダヂヅデド　バビブベボ　パピプペポ".to_string();
    text1.retain(|c| c != '　');
    let multibyte_text1: Vec<char> = text1.chars().collect();

    let mut text2 = "アイウエオ　カキクケコ　サシスセソ　タチツテト　ナニヌネノ　ハヒフヘホ　マミムメモ　ヤユヨ　ワオンガギグゲゴ　ザジズゼゾ　ダヂヅデド　バビブベボ　パピプペポ　ャュョ　ヴ".to_string();
    text2.retain(|c| c != '　');
    let multibyte_text2: Vec<char> = text2.chars().collect();

    let mut rng = thread_rng();
    let index1 = rng.gen_range(0, multibyte_text1.len());
    let index2 = rng.gen_range(0, multibyte_text2.len());

    println!("Quiz: {}□□{}", multibyte_text1[index1], multibyte_text2[index2]);
}
```


![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　はい　でけた！」


```
cargo run
```

カンッ　＃Enterキーを叩く音

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　ウィ～ン、おっ、↓問題ができあがったぜ☆」


```
Quiz: ノ□□ピ
```


![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　末尾が　ピ　で終わる単語なんか　わたしは知っているのだろうか……☆？」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　ミシシッピ！」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　頭は　ノ　だぜ☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　ノロッピ☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　今作った単語を　しゃべらないでくれだぜ☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　じゃあ２問目を出してくれだぜ☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　ウィ～ン、おっ、↓問題ができあがったぜ☆」


```
Quiz: ギ□□デ
```

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　ガニメデ☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　頭は　ギ　なんで☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　語尾から　ピ　と　デ　は省こうぜ☆！」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　お父んあり学習　かだぜ☆」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　カタカナは　たかだか　１００個も無いのだから、
先頭と　末尾　１００×１００　の　１００００パターン登録すれば　よいクイズが作れるわよ？」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　カタカナで表記した辞典とか　無いのかだぜ☆！
１００００パターンも　やりたくないぜ！」

# ◇お題２　パイナップル

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　なんか　適当な単語を　１つ言ってくれだぜ☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　わたしに　適当　は無いんで☆」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　パイナップル！」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　じゃあ☆、」


```
パイ
イナ
ナッ
ップ
プル
```


![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　↑この　５つ　は　日本語にありそうな　文字のつらなり　なわけだぜ☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　パイナップ　という言葉も　ナップル　という言葉も　聞いたことがないが　大丈夫か☆？」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　こんどは　**日本語にありそうな聞いたことのない単語**　を作るプログラムを作ろうぜ☆？」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　有る言葉　を当てるのは大変だけど、　無い言葉　を当てるのは簡単というわけね」

![20191019comp45a1.png](https://crieit.now.sh/upload_images/cc60f584dfc3977fbc938280e202c2e65daa7e6f44a8e.png)

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　↑こんな感じで　二次元の表があれば　十分だろう……☆」

![20191019comp45a1.png](https://crieit.now.sh/upload_images/cc60f584dfc3977fbc938280e202c2e65daa7f3fbe76d.png)

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　↑あれば　１　を入れていけばいいんじゃないか☆？
『ッッ』　みたいな擬音は無しで☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　『パパ』という単語がアリなら　『パパパパパパパ』という日本語だって　アリだよな☆」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　再帰を覚えたのね」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　パパパパパパパパパパパパパパパパパパパパパパパパパパパパパパパパパパパ」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　いつ停まるの？」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　適当なところで　止まればいいんじゃないか☆？」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　これも　入力データは　どうするんだぜ☆？
肝心の日本人は　ひらがなカタカナ漢字アルファベット混じりで　ツイート　しているぜ☆？」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　漢字や英語の読みまで　出てこないしな☆
データの入手方法と、　入力データ　の使いやすさ、　混入しているゴミの割合は　機械学習の課題だぜ☆」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　たくさん調べて　表が全部　１　で埋まったら　役に立たなくない？
どんな組み合わせでも　できた、みたいな」

![20191019comp45a2.png](https://crieit.now.sh/upload_images/3217ceb8387638bd52b8b4636c388e745daa850811cfb.png)

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　例えば　カタカナが　８０個あるとしたら、
文字がでてきたら　競合する相手の数の８０点だけ加点、でてこなかったやつは　－１点　する方法もある☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　パイナップルと１００回入れて過学習させたろ☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　反社会勢力は　相手が　２６００年間　停止しないシステムだと分かったら　停めることは諦めて、
過学習　を狙って　システムの品質の低下　を狙ってくるからな☆
品質の低いシステムが　いくら　２７００年、２８００年　連続して稼働していても　敵ではない☆
現代は　自分で　入力データを選別し、自分というシステムの品質を　調整することが流行っている時代だぜ☆」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　パイナップルと１００回入っていれば　指数関数的に　減らしましょう」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　ここは　パイナップル　と　ぶどう　しかない無人島かも知れないのに……☆
ぶどう　に有利に働くぜ☆」


```
　 あ い う え …
あ 99 99 99 99
い 99 99 99 99
う 99 99 99 99
え 99 99 99 99
…
```


![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　表を作りたいんだけど、２桁に収めてくれないと見づらいわよ？」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　そんな……☆」


```
Max| 12097
Min| -353
　 あ い う え …
あ 15 48-13Min
い 60Max-54  0
う 78-26 35 18
え-56  3-18-80
…
```


![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　じゃあ表示は　割合にしようぜ☆？　99～-99 の３桁で☆　100のときはMax、-100のときはMin で、3桁で☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　その作りだと　０　が基準でなくなるぜ☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　絶対値取れだぜ☆」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　Rust言語で　表の中の 絶対値が最大の数値 を取るにはどうすればいいの？
なんか　イケてる書き方が　あるんじゃないの？」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　まずは　そこからか……☆」

## ◇お題２a　表の中の最大値

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　まずは　↓イケてない書き方からだぜ☆　プロシージャ言語では　`get_max`　関数は　こう書けるな☆」


main.rs


```
//!
//! cd C:\Users\むずでょ\OneDrive\ドキュメント\practice-rust\kirimoti
//! cargo new max
//! cd C:\Users\むずでょ\OneDrive\ドキュメント\practice-rust\kirimoti\max
//! cargo check
//! cargo run
//! 
//! [crates.io](https://crates.io/)
//! 

fn main() {
    // 4x4 table.
    let table = [
        [-1, 3, -2, 10]
        ,[16, -15, 9, -7]
        ,[8, -11, 4, 5]
        ,[-6, 9, 0, -1]
    ];

    let max = get_max(table);

    println!("{:?}, max={}", table, max);
}

fn get_max(table:[[i64;4];4]) -> i64 {
    let mut max = std::i64::MIN;
    for r in 0..table.len() {
        for c in 0..table[r].len() {
            if max < table[r][c] {
                max = table[r][c];
            }
        }
    }

    max
}
```


Output:


```
[[-1, 3, -2, 10], [16, -15, 9, -7], [8, -11, 4, 5], [-6, 9, 0, -1]], max=16
```


[Rustの配列に関する雑多なメモ](https://tech.hellorusk.net/entry/2018/12/13/003356)


![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　プロシージャ言語でも　問題ないのに……☆」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　何がイケてないの？」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　`table[r][c]`　と　２変数を使ってデータを取ってるところだぜ☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　↓イケてるプログラムは　使う　変数　を少なくする☆　これがイケてる　`get_max`　関数だぜ☆」


main.rs


```
//!
//! cd C:\Users\むずでょ\OneDrive\ドキュメント\practice-rust\kirimoti\max-2
//! cargo check
//! cargo run
//! 
//! [crates.io](https://crates.io/)
//! 

fn main() {
    let table = [
        [-1, 3, -2, 10]
        ,[16, -15, 9, -7]
        ,[8, -11, 4, 5]
        ,[-6, 9, 0, -1]
    ];

    let max = get_max(table);

    println!("{:?}, max={}", table, max);
}

fn get_max(table:[[i64;4];4]) -> i64 {
    let mut max = std::i64::MIN;
    for row in table.iter() {
        for column in row.iter() {
            if max < *column {
                max = *column;
            }
        }
    }

    max
}
```


![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　C#言語にも　foreach 文が　あるんだけど！」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　内側のループには　引数は　column　という名前で１個、
外側のループも　引数は　row　という名前で１個☆
これは　そのうち　**カリー化**　を覚えるときになったら　思い出せだぜ☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　２つのループから見ると、　変数　table　と　max　は　**自由変数**　だぜ☆
つまり　２つのループの外側から最初に入ってきて、最後に出ていくぜ☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　ところで　Rust言語では　配列はサイズが固定なんで、
↓可変長にしたいときは　ベクターにするぜ☆」


main.rs


```
fn main() {
    let table = vec![
        vec![-1, 3, -2, 10]
        ,vec![16, -15, 9, -7]
        ,vec![8, -11, 4, 5]
        ,vec![-6, 9, 0, -1]
    ];

    let max = get_max(&table);

    println!("{:?}, max={}", table, max);
}

fn get_max(table:&Vec<Vec<i64>>) -> i64 {
    let mut max = std::i64::MIN;
    for row in table.iter() {
        for column in row.iter() {
            if max < *column {
                max = *column;
            }
        }
    }

    max
}
```


![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　もっと　関数型プログラミング　みたいな　イケてる書き方はないの！？」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　↓こうだろ☆」


main.rs


```
fn main() {
    let table = vec![
        vec![-1, 3, -2, 10]
        ,vec![16, -15, 9, -7]
        ,vec![8, -11, 4, 5]
        ,vec![-6, 9, 0, -1]
    ];

    let get_max = |cell, relay|{
        if cell < relay {
            relay
        } else {
            cell
        }
    };

    let max = each_cell(
        &table,
        std::i64::MIN,
        get_max);

    println!("{:?}, max={}", table, max);
}

fn each_cell<F>(table:&Vec<Vec<i64>>, init_value:i64, callback:F) -> i64
    where F : Fn(i64, i64) -> i64 {

    let mut relay = init_value;
    for row in table.iter() {
        for column in row.iter() {
            relay = callback(*column, relay);
        }
    }

    relay
}
```


![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　そうそう！　この分けわからんやつ！」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　`get_max`　は　**クロージャー**　として作る☆
そして　テーブルを走査する部分を　**高階関数** （higher-order function）　にして、
まるで関数の入れ子の　中間を　切り抜くようなことができるんだぜ☆」

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　その分けのわからない日本語が聞きたかったのよ！
関数型プログラミングっぽいわね！」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　まあ、次に　`get_min`　が欲しくなったときに　すぐ作れるぐらいの利点はあるよな☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　ぐちゃぐちゃ　してるわりに　ちょっぴりとした利点だな……☆」

## ◇お題２　パイナップル　続き

main.rs

```
//!
//! cd C:\Users\夢美\OneDrive\ドキュメント\practice-rust\kirimoti
//! cargo new pineapple
//! cd C:\Users\夢美\OneDrive\ドキュメント\practice-rust\kirimoti\pineapple
//! cargo check
//! cargo run
//! 
//! [crates.io](https://crates.io/)
//! 

fn main() {
    /* // Making of -.
    let mut hiragana = "あいうえお　かきくけこ　さしすせそ　たちつてと　なにぬねの　はひふへほ　まみむめも　やゆよ　わおん
        がきぐげご　ざじずぜぞ　だぢづでど　ばびぶべぼ　ぱぴぷぺぽ　ゃゅょ　ヴ
        ぁぃぅぇぉ".to_string();
    hiragana.retain(|c| c != ' ' && c != '　' && c != '\r' && c != '\n');
    println!("let hiragana = \"{}\".to_string();",hiragana);
    */
    let hiragana = "あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよわおんがきぐげござじずぜぞだぢづでどばびぶべぼぱぴぷぺぽゃゅょヴぁぃぅぇぉ".to_string();

    /* // Making of -.
    let mut katakana = "アイウエオ　カキクケコ　サシスセソ　タチツテト　ナニヌネノ　ハヒフヘホ　マミムメモ　ヤユヨ　ワオン
        ガギグゲゴ　ザジズゼゾ　ダヂヅデド　バビブベボ　パピプペポ　ャュョ　ヴ
        ァィゥェォ".to_string();
    katakana.retain(|c| c != ' ' && c != '　' && c != '\r' && c != '\n');
    println!("let katakana = \"{}\".to_string();",katakana);
    */
    let katakana = "アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨワオンガギグゲゴザジズゼゾダヂヅデドバビブベボパピプペポャュョヴァィゥェォ".to_string();

    let multibyte_hiragana: Vec<char> = hiragana.chars().collect();
    let multibyte_katakana: Vec<char> = katakana.chars().collect();
    let table: Vec<Vec<i64>> = vec![vec![0; multibyte_hiragana.len()]; multibyte_hiragana.len()];

    print_table(&multibyte_hiragana, &table);
}

fn print_table(multibyte_hiragana:&Vec<char>, table:&Vec<Vec<i64>>){
    print!("　");
    for ch in multibyte_hiragana.iter() {
        print!(" {}", ch);
    }
    println!();

    each_cell(
        &table,
        |r|print!("{}", multibyte_hiragana[r]),
        |r, cell|print!("{:>3}", cell),
        |r|println!());
}

fn each_cell<F, G, H>(table:&Vec<Vec<i64>>, before_row:F, get_cell:G, after_row:H)
    where
    F : Fn(usize),
    G : Fn(usize, i64),
    H : Fn(usize) {

    for (r, row) in table.iter().enumerate() {
        before_row(r);

        for column in row.iter() {
            get_cell(r, *column);
        }

        after_row(r);
    }
}
```

Output:

```
　 あ い う え お か き く け こ さ し す せ そ た ち つ て と な に ぬ ね の は ひ ふ へ ほ ま み む め も や ゆ よ わ お ん が き ぐ げ ご ざ じ ず ぜ ぞ だ ぢ づ で ど ば び ぶ べ ぼ ぱ ぴ ぷ ぺ ぽ ゃ ゅ ょ ヴ ぁ ぃ ぅ ぇ ぉ
あ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
い  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
う  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
え  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
お  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
か  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
き  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
く  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
け  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
こ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
さ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
し  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
す  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
せ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
そ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
た  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ち  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
つ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
て  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
と  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
な  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
に  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぬ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ね  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
の  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
は  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ひ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ふ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
へ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ほ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ま  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
み  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
む  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
め  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
も  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
や  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ゆ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
よ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
わ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
お  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ん  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
が  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
き  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぐ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
げ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ご  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぱ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぴ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぷ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぺ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぽ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ゃ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ゅ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ょ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ヴ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぁ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぃ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぅ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぇ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
ぉ  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
```

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　高階関数とクロージャーを使って、表のレイアウトのベースはできたわよ」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　もう使いこなしているの　わらう☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　最初から　でかい表　を作ってしまうと、
ちゃんと　指定したセルに値が入るか、　指定していないセルに値は入っていないか、
テストするのが大変なんだけどな☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　じゃあ　`いぬ`　を入力したら、　い行　ぬ列　に加点を、　い行の　ぬ列以外を　１点減点してくれだぜ☆」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　い行　ぬ列☆」

## ◇お題２b　標準入力

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　標準入力から　文字列を取る書き方　すぐ忘れちゃうのよね。
きふわらべちゃん、ソースコードを見せなさい」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　お前ら　コンピューター囲碁作ること　すっかり忘れてるだろ☆」


```
        let mut line = String::new();
        io::stdin()
            .read_line(&mut line)
            .expect("info Failed: stdin.read_line.");

        // Excludes trailing newlines.
        line = line.trim().parse().expect("info Failed: stdin parse.");
```


![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　標準入力は取れるわねぇ。　ここから」

![20191019comp46a1.png](https://crieit.now.sh/upload_images/1ebf0633a57c94e7ff11acab6b57ce035daac4bf451c6.png)

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　パイ、イナ、ナッ　に仕分けて取るのが手間ねぇ」

![KITASHIRAKAWA_Chiyuri_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/3da2d4690cf2c3f101c5cbc0e48729f55daa61fea4476.gif)
「　わたしの　コンビネーター記法　パクられてんの　わらう☆」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　２文字目から　ループ走らせたら　いけそうじゃないか☆？」


```
fn get_input_2_kana_vec(multibyte_hiragana:&Vec<char>, multibyte_katakana:&Vec<char>) -> Vec<(char,char)> {
    loop {
        let mut line = String::new();
        std::io::stdin().read_line(&mut line).expect("info Failed: stdin.read_line.");

        // Excludes trailing newlines.
        line = line.trim().parse().expect("info Failed: stdin parse.");

        let multibyte_line: Vec<char> = line.chars().collect();

        let mut two_kanas_vec = Vec::new();
        // あれば前の文字
        let mut prev : Option<char> = None;
        // 2文字目から。
        for curr in multibyte_line {
            if multibyte_hiragana.contains(&curr) || multibyte_katakana.contains(&curr) {
                match prev {
                    Some(prev_ch) => {
                        two_kanas_vec.push((prev_ch,curr));
                    }
                    None => {
                    }
                }

                prev = Some(curr);
            } else {
                prev = None;
            }
        }

        if 0 < two_kanas_vec.len() {
            return two_kanas_vec;
        }

        println!("Fail. Please input word of 2 hiraganas or more: {}", line);
    }
}
```


（カタカタカタ）

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　マルチバイト文字列の扱いが　めんどくさいのよーっ！」


```
いぬよし
いぬ
ぬよ
よし

ねこみ
ねこ
こみ
```


![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　これで　文字を２つずつ　引っこ抜くのも　良しね！」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　い　は２番として、　ぬ　は何番だぜ☆？」


（カタカタカタ）

![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　マルチバイト文字列の扱いが　めんどくさい～っ！」


```
fn index_of(ch1:&char, multibyte_hiragana:&Vec<char>, multibyte_katakana:&Vec<char>) -> Option<usize> {
    match multibyte_hiragana.iter().position(|&ch2| ch2==*ch1) {
        Some(x) => return Some(x),
        None => match multibyte_katakana.iter().position(|&ch3| ch3==*ch1) {
            Some(y) => return Some(y),
            None => None
        }
    }
}
```


![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　突貫で　↑ `index_of` 関数作って……」


```
    let two_kanas_vec = get_input_2_kana_vec(&multibyte_hiragana, &multibyte_katakana);
    for (ch1, ch2) in two_kanas_vec {

        println!("{}{} {}{}",
            ch1,
            if let Some(x) = index_of(&ch1, &multibyte_hiragana, &multibyte_katakana){x as i64}else{-1},
            ch2,
            if let Some(y) = index_of(&ch2, &multibyte_hiragana, &multibyte_katakana){y as i64}else{-1});
    }
```


Output:


```
いぬよし
い1 ぬ22
ぬ22 よ37
よ37 し11
```


![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　0オリジンだから１足して、ぬ　は　２３番ね」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　これで　テーブルに　加点、減点するのは　できそうだな☆」



```
    let bonus = multibyte_hiragana.len() as i64;
    let two_kanas_vec = get_input_2_kana_vec(&multibyte_hiragana, &multibyte_katakana);
    for (ch1, ch2) in two_kanas_vec {

        let index1 = index_of(&ch1, &multibyte_hiragana, &multibyte_katakana);
        let index2 = index_of(&ch2, &multibyte_hiragana, &multibyte_katakana);
        if let Some(y) = index1 {
            if let Some(x) = index2 {
                println!("{}{} {}{}", ch1, y, ch2, x);

                for r in 0..table.len() {
                    for c in 0..table[r].len() {
                        if y==r && x==c {
                            table[r][c] += bonus;
                        } else {
                            table[r][c] -= 1;
                        }
                    }
                }
            }
        }
    }
```


Output:


```
いぬよし
い1 ぬ22
ぬ22 よ37
よ37 し11
　 あ い う え お か き く け こ さ し す せ そ た ち つ て と な に ぬ ね の は ひ ふ へ ほ ま み む め も や ゆ よ わ お ん が き ぐ げ ご ざ じ ず ぜ ぞ だ ぢ づ で ど ば び ぶ べ ぼ ぱ ぴ ぷ ぺ ぽ ゃ ゅ ょ ヴ ぁ ぃ ぅ ぇ ぉ
あ -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3
い -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 73 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3
う -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3
え -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3 -3
…
```



![OKAZAKI_Yumemi_80x80x8_02_Syaberu.gif](https://crieit.now.sh/upload_images/058791c2dd4c1604ce1bd9ec26d490ae5daa623c26e1d.gif)
「　テーブルをスキャン中に　テーブルの内容を更新するのは　コンパイル・エラーになるんだけど！
イケてない書き方をするわよ！」

![KIFUWARABE_80x100x8_01_Futu.gif](https://crieit.now.sh/upload_images/5ac9fa3b390b658160717a7c1ef5008a5daa621833693.gif)
「　ごり押しか☆」



＜書きかけ＞